<div class="d-flex" style="background-color: rgb(243, 243, 243); min-height: 100vh;">
  <!-- Floating Sidebar -->
  <nav class="sidebar d-flex flex-column align-items-start p-3 shadow"
       style="width: 280px; min-width: 200px; margin: 32px; border-radius: 18px; height: calc(100vh - 64px);">
    <a class="navbar-brand d-flex align-items-center mb-4 text-decoration-none" href="/">
      <img src="/assets/logo.png" alt="Logo" width="36" height="36" class="me-2" />
      <span class="fs-4" style="color: #222;">InstaShortlist</span>
    </a>
    <!-- Navigation links only visible if logged in -->
    <ng-container *ngIf="authService.isLoggedIn()">
      <ul class="nav nav-pills flex-column w-100 mb-auto">
        <li class="nav-item w-100 mb-2">
          <a class="nav-link d-flex align-items-center gap-4" routerLink="/dashboard" routerLinkActive="active">
            <i class="fas fa-tachometer-alt me-2"></i>
            Dashboard
          </a>
        </li>
        <li class="nav-item w-100 mb-2">
          <a class="nav-link d-flex align-items-center gap-4" routerLink="/inbox" routerLinkActive="active">
            <i class="fas fa-inbox me-2"></i>
            Inbox
          </a>
        </li>
        <li class="nav-item w-100 mb-2">
          <a class="nav-link d-flex align-items-center gap-4" routerLink="/jobs" routerLinkActive="active">
            <i class="fa fa-briefcase me-2"></i>
            Jobs
          </a>
        </li>
        <li class="nav-item w-100 mb-2">
          <a class="nav-link d-flex align-items-center gap-4" routerLink="/candidates" routerLinkActive="active">
            <i class="fa fa-user-friends me-2"></i>
            Candidates
          </a>
        </li>
        <li class="nav-item w-100 mb-2">
          <a class="nav-link d-flex align-items-center gap-4" routerLink="/offers" routerLinkActive="active">
            <i class="fas fa-award me-2"></i>
            Offers
          </a>
        </li>
        <li class="nav-item w-100 mb-2">
          <a class="nav-link d-flex align-items-center gap-4" routerLink="/onboarding" routerLinkActive="active">
            <i class="fas fa-user-check me-2"></i>
            Onboarding
          </a>
        </li>
      </ul>
    </ng-container>
    <div class="mt-auto w-100">
      <ng-container *ngIf="authService.isLoggedIn(); else notLoggedIn">
        <ul class="nav nav-pills flex-column w-100 mb-2">
          <li class="nav-item w-100 mb-2">
            <a class="nav-link d-flex align-items-center gap-4" (click)="logout()" style="cursor:pointer;">
              <i class="fas fa-sign-out-alt me-2"></i>
              Logout
            </a>
          </li>
        </ul>
      </ng-container>
      <ng-template #notLoggedIn>
        <ul class="nav nav-pills flex-column w-100 mb-2">
          <li class="nav-item w-100 mb-2">
            <a class="nav-link d-flex align-items-center gap-4" routerLink="/login" routerLinkActive="active">
              <i class="fas fa-sign-in-alt me-2"></i>
              Login
            </a>
          </li>
          <li class="nav-item w-100 mb-2">
            <a class="nav-link d-flex align-items-center gap-4" routerLink="/register" routerLinkActive="active">
              <i class="fas fa-user-plus me-2"></i>
              Register
            </a>
          </li>
        </ul>
      </ng-template>
    </div>
  </nav>
  <!-- Main content -->
  <div class="flex-grow-1 main-content-wrapper" style="padding: 40px 40px 40px 40px;">
    <div class="main-content rounded-4">
      <router-outlet></router-outlet>
    </div>
  </div>
</div>

<style>
body {
  background-color: rgb(243, 243, 243) !important;
}
.sidebar {
  min-height: 90vh;
  position: fixed;
  left: 0;
  top: 0;
  z-index: 1040;
  background-color: rgb(253, 253, 253) !important;
  box-shadow: 0 8px 32px rgba(60,60,60,0.08), 0 1.5px 4px rgba(60,60,60,0.06);
}
.sidebar .nav-link,
.sidebar .navbar-brand,
.sidebar .nav-link svg {
  color: #3d3d3d !important;
  fill: #3d3d3d !important;
}
.sidebar .nav-link.active, .sidebar .nav-link.router-link-active {
  background-color: rgb(202, 210, 255) !important;
  color: black!important;
}
.main-content-wrapper {
  background: transparent;
  min-height: 100vh;
  display: flex;
  align-items: flex-start;
  justify-content: flex-start;
  margin-left: 280px;
}

.main-content {
  background: transparent !important;
  border-radius: 18px;
  min-height: 100%;
  width: 100%;
}
</style>